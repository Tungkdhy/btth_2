<div class="card">
  <div class="card-header">
    <div class="d-flex overflow-auto">
      <ul
        class="nav nav-stretch nav-line-tabs nav-line-tabs-2x border-transparent fs-4 fw-bolder flex-nowrap ms-3"
      >
        <li class="nav-item">
          <a
            class="nav-link active text-active-primary me-6"
            data-bs-toggle="tab"
            data-bs-target="#tab_statistical_violated_table"
          >
            Thống kê
          </a>
        </li>

        <li class="nav-item">
          <a
            class="nav-link text-active-primary me-6"
            data-bs-toggle="tab"
            data-bs-target="#tab_unsafe_violated_device"
          >
            Mất an toàn
          </a>
        </li>
      </ul>
    </div>
    <div class="card-toolbar">
      <div
        class="btn btn-icon btn-sm btn-active-light-primary btn-close me-2"
        (click)="goBack()"
      >
        <span class="svg-icon svg-icon-2x"></span>
      </div>
    </div>
  </div>
  <div class="tab-content">
    <div
      class="tab-pane fade show active"
      id="tab_statistical_violated_table"
      role="tabpanel"
    >
      <div class="card-body py-0">
        <app-chart-violated-device
          [violatedDevice]="violatedDevice"
        ></app-chart-violated-device>
      </div>
    </div>
    <div class="tab-pane fade" id="tab_unsafe_violated_device" role="tabpanel">
      <div class="card-body">
        <ng-container *ngIf="isFmsAlert; else elseBlock">
          <app-statistics-violating-device-list
            [unitId]="violatedDevice.id"
            [event]="violatedDevice.event"
          ></app-statistics-violating-device-list>
        </ng-container>
        <ng-template #elseBlock>
          <app-violated-device-data-table-pco
            [unitId]="violatedDevice.id"
            [event]="violatedDevice.event"
          ></app-violated-device-data-table-pco>
        </ng-template>
      </div>
    </div>
  </div>
</div>
